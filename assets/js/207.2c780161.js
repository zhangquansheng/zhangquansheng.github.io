(window.webpackJsonp=window.webpackJsonp||[]).push([[207],{471:function(e,v,_){"use strict";_.r(v);var a=_(10),t=Object(a.a)({},(function(){var e=this,v=e._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"ç”Ÿæˆè®¢å•30åˆ†é’Ÿæœªæ”¯ä»˜-åˆ™è‡ªåŠ¨å–æ¶ˆ-è¯¥æ€ä¹ˆå®ç°"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ç”Ÿæˆè®¢å•30åˆ†é’Ÿæœªæ”¯ä»˜-åˆ™è‡ªåŠ¨å–æ¶ˆ-è¯¥æ€ä¹ˆå®ç°"}},[e._v("#")]),e._v(" ç”Ÿæˆè®¢å•30åˆ†é’Ÿæœªæ”¯ä»˜ï¼Œåˆ™è‡ªåŠ¨å–æ¶ˆï¼Œè¯¥æ€ä¹ˆå®ç°ï¼Ÿ")]),e._v(" "),v("p",[e._v("åœ¨å¼€å‘ä¸­ï¼Œå¾€å¾€ä¼šé‡åˆ°ä¸€äº›å…³äºå»¶æ—¶ä»»åŠ¡çš„éœ€æ±‚ã€‚ä¾‹å¦‚")]),e._v(" "),v("ul",[v("li",[e._v("ç”Ÿæˆè®¢å•"),v("code",[e._v("30")]),e._v("åˆ†é’Ÿæœªæ”¯ä»˜ï¼Œåˆ™è‡ªåŠ¨å–æ¶ˆ")]),e._v(" "),v("li",[e._v("ç”Ÿæˆè®¢å•"),v("code",[e._v("60")]),e._v("ç§’å,ç»™ç”¨æˆ·å‘çŸ­ä¿¡")])]),e._v(" "),v("p",[e._v("å¯¹ä¸Šè¿°çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬ç»™ä¸€ä¸ªä¸“ä¸šçš„åå­—æ¥å½¢å®¹ï¼Œé‚£å°±æ˜¯å»¶æ—¶ä»»åŠ¡ã€‚é‚£ä¹ˆè¿™é‡Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªå»¶æ—¶ä»»åŠ¡å’Œå®šæ—¶ä»»åŠ¡çš„åŒºåˆ«ç©¶ç«Ÿåœ¨å“ªé‡Œå‘¢ï¼Ÿä¸€å…±æœ‰å¦‚ä¸‹å‡ ç‚¹åŒºåˆ«")]),e._v(" "),v("ul",[v("li",[e._v("å®šæ—¶ä»»åŠ¡æœ‰æ˜ç¡®çš„è§¦å‘æ—¶é—´ï¼Œå»¶æ—¶ä»»åŠ¡æ²¡æœ‰")]),e._v(" "),v("li",[e._v("å®šæ—¶ä»»åŠ¡æœ‰æ‰§è¡Œå‘¨æœŸï¼Œè€Œå»¶æ—¶ä»»åŠ¡åœ¨æŸäº‹ä»¶è§¦å‘åä¸€æ®µæ—¶é—´å†…æ‰§è¡Œï¼Œæ²¡æœ‰æ‰§è¡Œå‘¨æœŸ")]),e._v(" "),v("li",[e._v("å®šæ—¶ä»»åŠ¡ä¸€èˆ¬æ‰§è¡Œçš„æ˜¯æ‰¹å¤„ç†æ“ä½œæ˜¯å¤šä¸ªä»»åŠ¡ï¼Œè€Œå»¶æ—¶ä»»åŠ¡ä¸€èˆ¬æ˜¯å•ä¸ªä»»åŠ¡")])]),e._v(" "),v("p",[e._v("ä¸€èˆ¬å®ç°çš„æ–¹æ³•æœ‰å‡ ç§ï¼š")]),e._v(" "),v("ul",[v("li",[e._v("ä½¿ç”¨ rocketmqã€rabbitmqã€pulsar ç­‰æ¶ˆæ¯é˜Ÿåˆ—çš„å»¶æ—¶æŠ•é€’åŠŸèƒ½")]),e._v(" "),v("li",[e._v("ä½¿ç”¨ redisson æä¾›çš„ DelayedQueue")])]),e._v(" "),v("p",[e._v("æœ‰ä¸€äº›æ–¹æ¡ˆè™½ç„¶å¹¿ä¸ºæµä¼ ä½†å­˜åœ¨ç€è‡´å‘½ç¼ºé™·ï¼Œ"),v("strong",[e._v("ä¸è¦ç”¨æ¥å®ç°å»¶æ—¶ä»»åŠ¡")])]),e._v(" "),v("ul",[v("li",[e._v("ä½¿ç”¨ redis çš„è¿‡æœŸç›‘å¬")]),e._v(" "),v("li",[e._v("ä½¿ç”¨ rabbitmq çš„æ­»ä¿¡é˜Ÿåˆ—")]),e._v(" "),v("li",[e._v("ä½¿ç”¨éæŒä¹…åŒ–çš„æ—¶é—´è½®")])]),e._v(" "),v("h2",{attrs:{id:"æ•°æ®åº“è½®è¯¢"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®åº“è½®è¯¢"}},[e._v("#")]),e._v(" æ•°æ®åº“è½®è¯¢ ğŸ‘")]),e._v(" "),v("blockquote",[v("p",[e._v("æ•°æ®é‡ï¼Œå¹¶å‘é‡å¹¶ä¸å¤§çš„ç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ¡ˆã€‚")])]),e._v(" "),v("p",[e._v("è¯¥æ–¹æ¡ˆé€šå¸¸æ˜¯åœ¨å°å‹é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œå³é€šè¿‡ä¸€ä¸ªçº¿ç¨‹å®šæ—¶çš„å»æ‰«ææ•°æ®åº“ï¼Œé€šè¿‡è®¢å•æ—¶é—´æ¥åˆ¤æ–­æ˜¯å¦æœ‰è¶…æ—¶çš„è®¢å•ï¼Œç„¶åè¿›è¡Œ"),v("code",[e._v("update")]),e._v("æˆ–"),v("code",[e._v("delete")]),e._v("ç­‰æ“ä½œã€‚")]),e._v(" "),v("ul",[v("li",[e._v("ä¼˜ç‚¹: ç®€å•æ˜“è¡Œï¼Œæ”¯æŒé›†ç¾¤æ“ä½œ")]),e._v(" "),v("li",[e._v("ç¼ºç‚¹:\n"),v("ul",[v("li",[e._v("(1)å¯¹æœåŠ¡å™¨å†…å­˜æ¶ˆè€—å¤§")]),e._v(" "),v("li",[e._v("(2)å­˜åœ¨å»¶è¿Ÿï¼Œæ¯”å¦‚ä½ æ¯éš”3åˆ†é’Ÿæ‰«æä¸€æ¬¡ï¼Œé‚£æœ€åçš„å»¶è¿Ÿæ—¶é—´å°±æ˜¯"),v("code",[e._v("3")]),e._v("åˆ†é’Ÿ")]),e._v(" "),v("li",[e._v("(3)å‡è®¾ä½ çš„è®¢å•æœ‰å‡ åƒä¸‡æ¡ï¼Œæ¯éš”å‡ åˆ†é’Ÿè¿™æ ·æ‰«æä¸€æ¬¡ï¼Œæ•°æ®åº“æŸè€—æå¤§")])])])]),e._v(" "),v("h2",{attrs:{id:"jdkçš„å»¶è¿Ÿé˜Ÿåˆ—"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#jdkçš„å»¶è¿Ÿé˜Ÿåˆ—"}},[e._v("#")]),e._v(" JDKçš„å»¶è¿Ÿé˜Ÿåˆ— ğŸ™Š")]),e._v(" "),v("p",[e._v("è¯¥æ–¹æ¡ˆæ˜¯åˆ©ç”¨"),v("code",[e._v("JDK")]),e._v("è‡ªå¸¦çš„"),v("code",[e._v("DelayQueue")]),e._v("æ¥å®ç°ï¼Œè¿™æ˜¯ä¸€ä¸ªæ— ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œè¯¥é˜Ÿåˆ—åªæœ‰åœ¨å»¶è¿ŸæœŸæ»¡çš„æ—¶å€™æ‰èƒ½ä»ä¸­è·å–å…ƒç´ ï¼Œæ”¾å…¥"),v("code",[e._v("DelayQueue")]),e._v("ä¸­çš„å¯¹è±¡ï¼Œæ˜¯å¿…é¡»å®ç°"),v("code",[e._v("Delayed")]),e._v("æ¥å£çš„ã€‚")]),e._v(" "),v("ul",[v("li",[e._v("ä¼˜ç‚¹: æ•ˆç‡é«˜,ä»»åŠ¡è§¦å‘æ—¶é—´å»¶è¿Ÿä½ã€‚\n"),v("ul",[v("li",[e._v("ç¼ºç‚¹:")]),e._v(" "),v("li",[e._v("(1)æœåŠ¡å™¨é‡å¯åï¼Œæ•°æ®å…¨éƒ¨æ¶ˆå¤±ï¼Œæ€•å®•æœº")]),e._v(" "),v("li",[e._v("(2)é›†ç¾¤æ‰©å±•ç›¸å½“éº»çƒ¦")]),e._v(" "),v("li",[e._v("(3)å› ä¸ºå†…å­˜æ¡ä»¶é™åˆ¶çš„åŸå› ï¼Œæ¯”å¦‚ä¸‹å•æœªä»˜æ¬¾çš„è®¢å•æ•°å¤ªå¤šï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“å°±å‡ºç°OOMå¼‚å¸¸")]),e._v(" "),v("li",[e._v("(4)ä»£ç å¤æ‚åº¦è¾ƒé«˜")])])])]),e._v(" "),v("h2",{attrs:{id:"æ—¶é—´è½®ç®—æ³•"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#æ—¶é—´è½®ç®—æ³•"}},[e._v("#")]),e._v(" æ—¶é—´è½®ç®—æ³• ğŸ™Š")]),e._v(" "),v("p",[e._v("æ—¶é—´è½®æ˜¯ä¸€ç§å¾ˆä¼˜ç§€çš„å®šæ—¶ä»»åŠ¡çš„æ•°æ®ç»“æ„ï¼Œç„¶è€Œç»å¤§å¤šæ•°æ—¶é—´è½®å®ç°æ˜¯çº¯å†…å­˜æ²¡æœ‰æŒä¹…åŒ–çš„ã€‚")]),e._v(" "),v("h2",{attrs:{id:"redisç¼“å­˜è¿‡æœŸç›‘å¬"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#redisç¼“å­˜è¿‡æœŸç›‘å¬"}},[e._v("#")]),e._v(" redisç¼“å­˜è¿‡æœŸç›‘å¬ ğŸ™Š")]),e._v(" "),v("p",[e._v("Redis å®˜æ–¹æ‰‹å†Œçš„keyspace-notifications: timing-of-expired-eventsä¸­æ˜ç¡®æŒ‡å‡ºï¼š")]),e._v(" "),v("blockquote",[v("p",[e._v("Basically expired events are generated when the Redis server deletes the key and not when the time to live theoretically reaches the value of zero")])]),e._v(" "),v("p",[v("code",[e._v("redis")]),e._v(" è‡ªåŠ¨è¿‡æœŸçš„å®ç°æ–¹å¼æ˜¯ï¼šå®šæ—¶ä»»åŠ¡ç¦»çº¿æ‰«æå¹¶åˆ é™¤éƒ¨åˆ†è¿‡æœŸé”®ï¼›åœ¨è®¿é—®é”®æ—¶æƒ°æ€§æ£€æŸ¥æ˜¯å¦è¿‡æœŸå¹¶åˆ é™¤è¿‡æœŸé”®ã€‚"),v("code",[e._v("redis")]),e._v(" ä»æœªä¿è¯ä¼šåœ¨è®¾å®šçš„è¿‡æœŸæ—¶é—´ç«‹å³åˆ é™¤å¹¶å‘é€è¿‡æœŸé€šçŸ¥ã€‚å®é™…ä¸Šï¼Œè¿‡æœŸé€šçŸ¥æ™šäºè®¾å®šçš„è¿‡æœŸæ—¶é—´æ•°åˆ†é’Ÿçš„æƒ…å†µä¹Ÿæ¯”è¾ƒå¸¸è§ã€‚")]),e._v(" "),v("p",[e._v("æ­¤å¤–é”®ç©ºé—´é€šçŸ¥é‡‡ç”¨çš„æ˜¯å‘é€å³å¿˜(fire and forget)ç­–ç•¥ï¼Œå¹¶ä¸åƒæ¶ˆæ¯é˜Ÿåˆ—ä¸€æ ·ä¿è¯é€è¾¾ã€‚å½“è®¢é˜…äº‹ä»¶çš„å®¢æˆ·ç«¯ä¼šä¸¢å¤±æ‰€æœ‰åœ¨æ–­çº¿æœŸé—´æ‰€æœ‰åˆ†å‘ç»™å®ƒçš„äº‹ä»¶ã€‚")]),e._v(" "),v("h2",{attrs:{id:"redission-rdelayedqueue"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#redission-rdelayedqueue"}},[e._v("#")]),e._v(" Redission RDelayedQueue")]),e._v(" "),v("p",[e._v("redisson delayqueue æ˜¯ä¸€ç§åŸºäº redis zset ç»“æ„çš„å»¶æ—¶é˜Ÿåˆ—å®ç°ã€‚delayqueue ä¸­æœ‰ä¸€ä¸ªåä¸º timeoutSetName çš„æœ‰åºé›†åˆï¼Œå…¶ä¸­å…ƒç´ çš„ score ä¸ºæŠ•é€’æ—¶é—´æˆ³ã€‚delayqueue ä¼šå®šæ—¶ä½¿ç”¨ zrangebyscore æ‰«æå·²åˆ°æŠ•é€’æ—¶é—´çš„æ¶ˆæ¯ï¼Œç„¶åæŠŠå®ƒä»¬ç§»åŠ¨åˆ°å°±ç»ªæ¶ˆæ¯åˆ—è¡¨ä¸­ã€‚")]),e._v(" "),v("p",[e._v("delayqueue ä¿è¯ redis ä¸å´©æºƒçš„æƒ…å†µä¸‹ä¸ä¼šä¸¢å¤±æ¶ˆæ¯ï¼Œåœ¨æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆæ—¶ä¸å¦¨ä¸€è¯•ã€‚")]),e._v(" "),v("p",[e._v("åœ¨æ•°æ®åº“ç´¢å¼•è®¾è®¡è‰¯å¥½çš„æƒ…å†µä¸‹ï¼Œå®šæ—¶æ‰«ææ•°æ®åº“ä¸­æœªå®Œæˆçš„è®¢å•äº§ç”Ÿçš„å¼€é”€å¹¶æ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆå¤§ã€‚åœ¨ä½¿ç”¨ redisson delayqueue ç­‰å®šæ—¶ä»»åŠ¡ä¸­é—´ä»¶æ—¶å¯ä»¥åŒæ—¶ä½¿ç”¨æ‰«ææ•°æ®åº“çš„æ–¹æ³•ä½œä¸ºè¡¥å¿æœºåˆ¶ï¼Œé¿å…ä¸­é—´ä»¶æ•…éšœé€ æˆä»»åŠ¡ä¸¢å¤±ã€‚")]),e._v(" "),v("p",[v("a",{attrs:{href:"../redis/delay-queue"}},[e._v("åŸºäº Redis å®ç°å»¶è¿Ÿé˜Ÿåˆ—")])]),e._v(" "),v("h2",{attrs:{id:"æ¶ˆæ¯é˜Ÿåˆ—"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯é˜Ÿåˆ—"}},[e._v("#")]),e._v(" æ¶ˆæ¯é˜Ÿåˆ— ğŸ‘")]),e._v(" "),v("ul",[v("li",[e._v("ä¼˜ç‚¹: é«˜æ•ˆ,å¯ä»¥åˆ©ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„åˆ†å¸ƒå¼ç‰¹æ€§è½»æ˜“çš„è¿›è¡Œæ¨ªå‘æ‰©å±•,æ¶ˆæ¯æ”¯æŒæŒä¹…åŒ–å¢åŠ äº†å¯é æ€§ã€‚")]),e._v(" "),v("li",[e._v("ç¼ºç‚¹ï¼šä¾èµ–æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¤æ‚åº¦å’Œæˆæœ¬å˜é«˜")])]),e._v(" "),v("h3",{attrs:{id:"rocketmq-å®ç°"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#rocketmq-å®ç°"}},[e._v("#")]),e._v(" RocketMQ å®ç°")]),e._v(" "),v("h3",{attrs:{id:"kafka-å®ç°"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#kafka-å®ç°"}},[e._v("#")]),e._v(" Kafka å®ç°")])])}),[],!1,null,null,null);v.default=t.exports}}]);