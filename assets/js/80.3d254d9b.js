(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{351:function(e,t,r){"use strict";r.r(t);var a=r(10),s=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[e._v("#")]),e._v(" 概述")]),e._v(" "),t("p",[t("code",[e._v("PB级海量数据")]),e._v(" "),t("code",[e._v("准实时（near real-time）查询")]),e._v(" "),t("code",[e._v("秒级")])]),e._v(" "),t("p",[t("a",{attrs:{href:"https://db-engines.com/en/ranking/search+engine",target:"_blank",rel:"noopener noreferrer"}},[e._v("搜索引擎实时排名"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"环境准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[e._v("#")]),e._v(" 环境准备")]),e._v(" "),t("p",[t("code",[e._v("elasticsearch 6.4.3")]),e._v(" 版本")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("JDK 1.8 or later")])]),e._v(" "),t("li",[t("code",[e._v("spring-boot-starter-data-elasticsearch")]),e._v(" "),t("code",[e._v("2.1.18.RELEASE")])]),e._v(" "),t("li",[t("code",[e._v("elasticsearch-6.4.3")])]),e._v(" "),t("li",[t("code",[e._v("kibana-6.4.3")])])]),e._v(" "),t("h2",{attrs:{id:"核心概览"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#核心概览"}},[e._v("#")]),e._v(" 核心概览")]),e._v(" "),t("p",[e._v("什么是搜索引擎？")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("全文搜索引擎: 自然语言处理（NLP）、爬虫、网页处理、大数据处理，如谷歌、百度等等。")])]),e._v(" "),t("li",[t("p",[e._v("垂直搜索引擎：有明确搜索目的的搜索行为，如各大电商网站、OA、站内搜索、视频网站等。")])])]),e._v(" "),t("h3",{attrs:{id:"准实时-near-real-time-查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准实时-near-real-time-查询"}},[e._v("#")]),e._v(" 准实时（near real-time）查询")]),e._v(" "),t("p",[t("code",[e._v("Elasticsearch")]),e._v(" 被称为准实时搜索，原因是对 "),t("code",[e._v("Elasticsearch")]),e._v(" 的写入操作成功后，写入的数据需要"),t("strong",[e._v("1秒钟")]),e._v("后才能被搜索到，因此 "),t("code",[e._v("Elasticsearch")]),e._v(" 搜索是准实时或者又称为近实时（"),t("code",[e._v("near real time")]),e._v("）。")]),e._v(" "),t("p",[t("code",[e._v("Elasticsearch")]),e._v(" 底层使用的 "),t("code",[e._v("Lucene")]),e._v("，而 "),t("code",[e._v("Lucene")]),e._v(" 的写入是实时的。但 "),t("code",[e._v("Lucene")]),e._v(" 的实时写入意味着每一次写入请求都直接将数据写入硬盘，因此频繁的"),t("code",[e._v("I/O")]),e._v("操作会导致很大的性能问题。")]),e._v(" "),t("h2",{attrs:{id:"elasticsearch-客户端transportclient-vs-restclient"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-客户端transportclient-vs-restclient"}},[e._v("#")]),e._v(" Elasticsearch 客户端TransportClient vs RestClient")]),e._v(" "),t("p",[e._v("Elasticsearch(ES)有两种连接方式：TransportClient、RestClient。TransportClient通过TCP方式访问ES(只支持java),RestClient方式通过http API 访问ES(没有语言限制)。")]),e._v(" "),t("p",[e._v("Elasticsearch计划在Elasticsearch 7.0中弃用TransportClient，在8.0中完全删除它。故在实际使用过程中"),t("strong",[e._v("建议您使用Java高级"),t("code",[e._v("REST client")])]),e._v("。不管是transport client还是rest client都是线程安全的，都应该使用单例。")]),e._v(" "),t("ul",[t("li",[e._v("TransportClient:\nTransportClient 是ElasticSearch（java）客户端封装对象，使用transport远程连接到Elasticsearch集群，默认用的TCP端口是9300，该transport node并不会加入集群，而是简单的向ElasticSearch集群上的节点发送请求。")]),e._v(" "),t("li",[t("strong",[e._v("Rest Client（推荐）")]),e._v(":\n"),t("ul",[t("li",[e._v("Java Low Level REST Client：elasticsearch client 低级别客户端。它允许通过http请求与"),t("code",[e._v("Elasticsearch")]),e._v("集群进行通信。API本身不负责数据的编码解码，由用户去编码解码。它与所有的ElasticSearch版本兼容。")]),e._v(" "),t("li",[e._v("Java High Level REST Client：Elasticsearch client官方高级客户端。基于低级客户端，它定义的API,已经对请求与响应数据包进行编码解码。")])])])]),e._v(" "),t("h2",{attrs:{id:"参考文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文档"}},[e._v("#")]),e._v(" 参考文档")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-document-index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("基于 RestHighLevelClient 的 Elasticsearch 的基本使用"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.elastic.co/cn/support/matrix",target:"_blank",rel:"noopener noreferrer"}},[e._v("Support Matrix"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("官方文档"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("官方中文教程"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.elastic.co/cn/downloads/past-releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Elastic Past Releases"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/spring-projects/spring-data-elasticsearch/wiki",target:"_blank",rel:"noopener noreferrer"}},[e._v("Github spring-data-elasticsearch wiki"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Spring Data Elasticsearch - Reference Documentation"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/spring-projects/spring-data-elasticsearch",target:"_blank",rel:"noopener noreferrer"}},[e._v("Spring Data Elasticsearch"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=s.exports}}]);