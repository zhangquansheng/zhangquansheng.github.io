(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{480:function(e,r,t){"use strict";t.r(r);var _=t(10),v=Object(_.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"æ¦‚è¿°"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°"}},[e._v("#")]),e._v(" æ¦‚è¿°")]),e._v(" "),r("h2",{attrs:{id:"ç³»ç»Ÿéƒ¨ç½²æ¶æ„"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ç³»ç»Ÿéƒ¨ç½²æ¶æ„"}},[e._v("#")]),e._v(" ç³»ç»Ÿéƒ¨ç½²æ¶æ„")]),e._v(" "),r("p",[r("img",{attrs:{src:"/img/rocketmq/rocketmq-arch.png",alt:"rocketmq-arch"}})]),e._v(" "),r("p",[e._v("å›¾ä¸­æ‰€æ¶‰åŠåˆ°çš„æ¦‚å¿µå¦‚ä¸‹æ‰€è¿°ï¼š")]),e._v(" "),r("ul",[r("li",[e._v("Name Serverï¼šæ˜¯ä¸€ä¸ªå‡ ä¹æ— çŠ¶æ€èŠ‚ç‚¹ï¼Œå¯é›†ç¾¤éƒ¨ç½²ï¼Œåœ¨æ¶ˆæ¯é˜Ÿåˆ— RocketMQ ç‰ˆä¸­æä¾›å‘½åæœåŠ¡ï¼Œæ›´æ–°å’Œå‘ç° Broker æœåŠ¡ã€‚")]),e._v(" "),r("li",[e._v("Brokerï¼šæ¶ˆæ¯ä¸­è½¬è§’è‰²ï¼Œè´Ÿè´£å­˜å‚¨æ¶ˆæ¯ï¼Œè½¬å‘æ¶ˆæ¯ã€‚åˆ†ä¸º Master Broker å’Œ Slave Brokerï¼Œä¸€ä¸ª Master Broker å¯ä»¥å¯¹åº”å¤šä¸ª Slave Brokerï¼Œä½†æ˜¯ä¸€ä¸ª Slave Broker åªèƒ½å¯¹åº”ä¸€ä¸ª Master Brokerã€‚Broker å¯åŠ¨åéœ€è¦å®Œæˆä¸€æ¬¡å°†è‡ªå·±æ³¨å†Œè‡³ Name Server çš„æ“ä½œï¼›éšåæ¯éš” 30s å®šæœŸå‘ Name Server ä¸ŠæŠ¥ Topic è·¯ç”±ä¿¡æ¯ã€‚")]),e._v(" "),r("li",[e._v("ç”Ÿäº§è€…ï¼šä¸ Name Server é›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆéšæœºï¼‰å»ºç«‹é•¿é“¾æ¥ï¼ˆKeep-aliveï¼‰ï¼Œå®šæœŸä» Name Server è¯»å– Topic è·¯ç”±ä¿¡æ¯ï¼Œå¹¶å‘æä¾› Topic æœåŠ¡çš„ Master Broker å»ºç«‹é•¿é“¾æ¥ï¼Œä¸”å®šæ—¶å‘ Master Broker å‘é€å¿ƒè·³ã€‚")]),e._v(" "),r("li",[e._v("æ¶ˆè´¹è€…ï¼šä¸ Name Server é›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆéšæœºï¼‰å»ºç«‹é•¿è¿æ¥ï¼Œå®šæœŸä» Name Server æ‹‰å– Topic è·¯ç”±ä¿¡æ¯ï¼Œå¹¶å‘æä¾› Topic æœåŠ¡çš„ Master Brokerã€Slave Broker å»ºç«‹é•¿è¿æ¥ï¼Œä¸”å®šæ—¶å‘ Master Brokerã€Slave Broker å‘é€å¿ƒè·³ã€‚Consumer æ—¢å¯ä»¥ä» Master Broker è®¢é˜…æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä» Slave Broker è®¢é˜…æ¶ˆæ¯ï¼Œè®¢é˜…è§„åˆ™ç”± Broker é…ç½®å†³å®šã€‚")])]),e._v(" "),r("h2",{attrs:{id:"rocketmq-çš„è®¾è®¡ç†å¿µå’Œç›®æ ‡"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rocketmq-çš„è®¾è®¡ç†å¿µå’Œç›®æ ‡"}},[e._v("#")]),e._v(" RocketMQ çš„è®¾è®¡ç†å¿µå’Œç›®æ ‡")]),e._v(" "),r("h3",{attrs:{id:"è®¾è®¡ç†å¿µ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#è®¾è®¡ç†å¿µ"}},[e._v("#")]),e._v(" è®¾è®¡ç†å¿µ")]),e._v(" "),r("p",[e._v("RocketMQ è®¾è®¡åŸºäºä¸»é¢˜çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬æ¶ˆæ¯å‘é€ã€æ¶ˆæ¯å­˜å‚¨ï¼ˆBrokerï¼‰ã€æ¶ˆæ¯æ¶ˆè´¹ï¼Œæ•´ä½“è®¾è®¡è¿½æ±‚ç®€å•å’Œæ€§èƒ½ç¬¬ä¸€ï¼Œä¸»è¦ä½“ç°åœ¨å¦‚ä¸‹ä¸‰ä¸ªæ–¹é¢ã€‚")]),e._v(" "),r("p",[e._v("é¦–å…ˆï¼Œ"),r("code",[e._v("NameServer")]),e._v("è®¾è®¡æå…¶ç®€å•ï¼Œæ‘’å¼ƒäº†"),r("code",[e._v("Zookeeper")]),e._v("å……å½“æ³¨å†Œä¸­å¿ƒ,é‡‡ç”¨è‡ªç ”"),r("code",[e._v("NameServer")]),e._v("å®ç°å…ƒæ•°æ®çš„ç®¡ç†(Topicè·¯ç”±ä¿¡æ¯ç­‰)ï¼Œ"),r("strong",[e._v("è¿½æ±‚æœ€ç»ˆä¸€è‡´æ€§ï¼Œå¹¶ä¸”èƒ½å®¹å¿åˆ†é’Ÿçº§çš„ä¸ä¸€è‡´")]),e._v("ã€‚\næ­£å¼åŸºäºæ­¤ç§æƒ…å†µï¼Œ"),r("strong",[e._v("RocketMQçš„"),r("code",[e._v("NameServer")]),e._v("é›†ç¾¤é—´äº’ä¸é€šä¿¡")]),e._v("ï¼Œæå¤§åœ°é™ä½äº†"),r("code",[e._v("NameServer")]),e._v("å®ç°çš„å¤æ‚ç¨‹åº¦ï¼Œå¯¹ç½‘ç»œçš„è¦æ±‚ä¹Ÿé™ä½ä¸å°‘ï¼Œæ€§èƒ½ç›¸å¯¹äº"),r("code",[e._v("Zookeeper")]),e._v("æœ‰è¾ƒå¤§æå‡ã€‚")]),e._v(" "),r("p",[e._v("å…¶æ¬¡ï¼Œæ˜¯é«˜æ•ˆçš„IOå­˜å‚¨æœºåˆ¶ã€‚RocketMQ è¿½æ±‚æ¶ˆæ¯å‘é€çš„é«˜ååé‡ï¼Œæ¶ˆæ¯å­˜å‚¨æ–‡ä»¶è®¾è®¡æˆ"),r("strong",[e._v("æ–‡ä»¶ç»„")]),e._v("çš„æ¦‚å¿µï¼Œç»„å†…å•ä¸ªæ–‡ä»¶å¤§å°å›ºå®šï¼Œæ–¹ä¾¿å¼•å…¥"),r("strong",[e._v("å†…å­˜æ˜ å°„æœºåˆ¶")]),e._v("ï¼Œæ‰€æœ‰ä¸»é¢˜çš„æ¶ˆæ¯å­˜å‚¨åŸºäº"),r("strong",[e._v("é¡ºåºå†™")]),e._v("ï¼Œ\næå¤§åœ°æå‡äº†æ¶ˆæ¯å†™æ€§èƒ½ï¼ŒåŒæ—¶ä¸ºäº†å…¼é¡¾æ¶ˆæ¯æ¶ˆè´¹ä¸æ¶ˆæ¯æŸ¥æ‰¾ï¼Œå¼•å…¥äº†"),r("strong",[e._v("æ¶ˆæ¯æ¶ˆè´¹é˜Ÿåˆ—æ–‡ä»¶")]),e._v("ä¸"),r("strong",[e._v("ç´¢å¼•æ–‡ä»¶")])]),e._v(" "),r("p",[e._v("æœ€åï¼Œå®¹å¿å­˜åœ¨è®¾è®¡ç¼ºé™·ï¼ŒRocketMQ åªä¿è¯æ¶ˆæ¯è¢«æ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œä½†è®¾è®¡ä¸Šå…è®¸æ¶ˆæ¯è¢«é‡å¤æ¶ˆè´¹ï¼Œè¿™æ ·æå¤§åœ°ç®€åŒ–äº†æ¶ˆæ¯ä¸­é—´ä»¶çš„å†…æ ¸ï¼Œä½¿å¾—å®ç°æ¶ˆæ¯å‘é€é«˜å¯ç”¨å˜å¾—éå¸¸ç®€å•ä¸é«˜æ•ˆï¼Œ\n"),r("strong",[e._v("æ¶ˆæ¯é‡å¤é—®é¢˜ç”±æ¶ˆè´¹è€…åœ¨æ¶ˆæ¯æ¶ˆè´¹æ—¶å®ç°å¹‚ç­‰")]),e._v("ã€‚")]),e._v(" "),r("h3",{attrs:{id:"è®¾è®¡ç›®æ ‡"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#è®¾è®¡ç›®æ ‡"}},[e._v("#")]),e._v(" è®¾è®¡ç›®æ ‡")]),e._v(" "),r("p",[e._v("RocketMQ éœ€è¦è§£å†³ä¸€ä¸‹é—®é¢˜ï¼š")]),e._v(" "),r("h4",{attrs:{id:"_1-æ¶æ„æ¨¡å¼"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ¶æ„æ¨¡å¼"}},[e._v("#")]),e._v(" 1.æ¶æ„æ¨¡å¼")]),e._v(" "),r("p",[e._v("RocketMQ é‡‡ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼ŒåŸºæœ¬ç»„ä»¶ï¼šæ¶ˆæ¯å‘é€è€…ï¼Œæ¶ˆæ¯æœåŠ¡å™¨ï¼ˆæ¶ˆæ¯å­˜å‚¨ï¼‰ï¼Œæ¶ˆæ¯æ¶ˆè´¹ï¼Œè·¯ç”±å‘ç°ã€‚")]),e._v(" "),r("h4",{attrs:{id:"_2-é¡ºåºæ¶ˆæ¯"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-é¡ºåºæ¶ˆæ¯"}},[e._v("#")]),e._v(" 2.é¡ºåºæ¶ˆæ¯")]),e._v(" "),r("p",[e._v("é¡ºåºæ¶ˆæ¯ï¼ŒæŒ‡æ¶ˆæ¯æ¶ˆè´¹è€…æŒ‰ç…§æ¶ˆæ¯åˆ°è¾¾æ¶ˆæ¯å­˜å‚¨æœåŠ¡å™¨çš„é¡ºåºæ¶ˆè´¹ï¼Œ"),r("strong",[e._v("RocketMQ å¯ä»¥ä¸¥æ ¼ä¿è¯æ¶ˆæ¯æœ‰åº")]),e._v("ã€‚")]),e._v(" "),r("h4",{attrs:{id:"_3-æ¶ˆæ¯è¿‡æ»¤"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ¶ˆæ¯è¿‡æ»¤"}},[e._v("#")]),e._v(" 3.æ¶ˆæ¯è¿‡æ»¤")]),e._v(" "),r("p",[e._v("æ¶ˆæ¯è¿‡æ»¤ï¼ŒæŒ‡æ¶ˆæ¯æ¶ˆè´¹æ—¶ï¼Œæ¶ˆæ¯æ¶ˆè´¹è€…å¯ä»¥å¯¹åŒä¸€ä¸»é¢˜ä¸‹çš„æ¶ˆæ¯æŒ‰ç…§è§„åˆ™åªæ¶ˆè´¹è‡ªå·±æ„Ÿå…´è¶£çš„æ¶ˆæ¯ã€‚RocketMQ æ¶ˆæ¯è¿‡æ»¤æ”¯æŒåœ¨æœåŠ¡ç«¯å’Œæ¶ˆè´¹ç«¯çš„æ¶ˆæ¯è¿‡æ»¤æœºåˆ¶ã€‚")]),e._v(" "),r("ul",[r("li",[e._v("æ¶ˆæ¯åœ¨"),r("code",[e._v("Broker")]),e._v("ç«¯è¿‡æ»¤ã€‚"),r("code",[e._v("Broker")]),e._v("åªå°†æ¶ˆæ¯æ¶ˆè´¹è€…æ„Ÿå…´è¶£çš„æ¶ˆæ¯å‘é€æ¶ˆæ¯æ¶ˆè´¹è€…ã€‚")]),e._v(" "),r("li",[e._v("æ¶ˆæ¯åœ¨æ¶ˆæ¯æ¶ˆè´¹ç«¯è¿‡æ»¤ã€‚è¿‡æ»¤æ–¹å¼ç”±æ¶ˆè´¹è€…è‡ªå®šä¹‰ï¼Œç¼ºç‚¹æ˜¯æ— ç”¨çš„æ¶ˆæ¯ä¼šä»"),r("code",[e._v("Broker")]),e._v("ä¼ è¾“åˆ°æ¶ˆè´¹ç«¯ã€‚")])]),e._v(" "),r("h4",{attrs:{id:"_4-æ¶ˆæ¯å­˜å‚¨"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ¶ˆæ¯å­˜å‚¨"}},[e._v("#")]),e._v(" 4.æ¶ˆæ¯å­˜å‚¨")]),e._v(" "),r("p",[e._v("æ ¸å¿ƒå®ç°æ˜¯æ¶ˆæ¯å­˜å‚¨ï¼Œä¸¤ä¸ªç»´åº¦è€ƒé‡ï¼šæ¶ˆæ¯å †ç§¯èƒ½åŠ›å’Œæ¶ˆæ¯å­˜å‚¨æ€§èƒ½ã€‚**å¼•å…¥å†…å­˜æ˜ å°„æœºåˆ¶å’Œé¡ºåºå†™æå‡æ¶ˆæ¯å­˜å‚¨æ€§èƒ½ï¼Œ**ä¸ºäº†é¿å…æ¶ˆæ¯æ— é™åœ¨æ¶ˆæ¯å­˜å‚¨æœåŠ¡å™¨ä¸­ç´¯ç§¯ï¼Œå¼•å…¥æ¶ˆæ¯æ–‡ä»¶è¿‡æœŸæœºåˆ¶å’Œæ–‡ä»¶å­˜å‚¨ç©ºé—´æŠ¥è­¦æœºåˆ¶ã€‚")]),e._v(" "),r("h4",{attrs:{id:"_5-æ¶ˆæ¯é«˜å¯ç”¨æ€§"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-æ¶ˆæ¯é«˜å¯ç”¨æ€§"}},[e._v("#")]),e._v(" 5.æ¶ˆæ¯é«˜å¯ç”¨æ€§")]),e._v(" "),r("p",[e._v("æ¶ˆæ¯å¯é æ€§é€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š")]),e._v(" "),r("ol",[r("li",[e._v("Broker æ­£å¸¸å…³æœº")]),e._v(" "),r("li",[e._v("Brokerå¼‚å¸¸ Crash")]),e._v(" "),r("li",[e._v("OS Crash")]),e._v(" "),r("li",[e._v("æœºå™¨æ–­ç”µï¼Œä½†æ˜¯èƒ½ç«‹å³æ¢å¤ä¾›ç”µ")]),e._v(" "),r("li",[e._v("æœºå™¨æ— æ³•å¼€æœº")]),e._v(" "),r("li",[e._v("ç£ç›˜è®¾å¤‡æŸå")])]),e._v(" "),r("p",[e._v("æƒ…å†µ 1~4 çš„ RocketMQ åœ¨"),r("strong",[e._v("åŒæ­¥åˆ·ç›˜æ¨¡å¼ä¸‹å¯ä»¥ç¡®ä¿ä¸ä¸¢å¤±æ¶ˆæ¯ï¼Œåœ¨å¼‚æ­¥åˆ·ç›˜æ¨¡å¼ä¸‹ï¼Œä¼šä¸¢å¤±å°‘é‡æ¶ˆæ¯")]),e._v("ã€‚æƒ…å†µ 5~6 å±äºå•ç‚¹æ•…éšœï¼Œä¸€æ—¦å‘ç”Ÿï¼Œè¯¥èŠ‚ç‚¹æ¶ˆæ¯å…¨éƒ¨ä¸¢å¤±ï¼Œè‹¥å¼€å¯å¼‚æ­¥å¤åˆ¶ï¼ŒRocketMQ èƒ½ä¿è¯åªä¸¢å¤±å°‘é‡æ¶ˆæ¯ã€‚")]),e._v(" "),r("h4",{attrs:{id:"_6-æ¶ˆæ¯åˆ°è¾¾-æ¶ˆè´¹-ä½å»¶è¿Ÿ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-æ¶ˆæ¯åˆ°è¾¾-æ¶ˆè´¹-ä½å»¶è¿Ÿ"}},[e._v("#")]),e._v(" 6.æ¶ˆæ¯åˆ°è¾¾ï¼ˆæ¶ˆè´¹ï¼‰ä½å»¶è¿Ÿ")]),e._v(" "),r("p",[e._v("RocketMQåœ¨æ¶ˆæ¯ä¸å‘ç”Ÿå †ç§¯æ—¶ï¼Œä»¥"),r("strong",[e._v("é•¿è½®è¯¢")]),e._v("æ¨¡å¼å®ç°å‡†å®æ—¶çš„æ¶ˆæ¯æ¨é€æ¨¡å¼")]),e._v(" "),r("h4",{attrs:{id:"_7-ç¡®ä¿æ¶ˆæ¯å¿…é¡»è¢«æ¶ˆè´¹ä¸€æ¬¡"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-ç¡®ä¿æ¶ˆæ¯å¿…é¡»è¢«æ¶ˆè´¹ä¸€æ¬¡"}},[e._v("#")]),e._v(" 7.ç¡®ä¿æ¶ˆæ¯å¿…é¡»è¢«æ¶ˆè´¹ä¸€æ¬¡")]),e._v(" "),r("p",[e._v("RocketMQ é€šè¿‡æ¶ˆæ¯ç¡®è®¤æœºåˆ¶ï¼ˆACKï¼‰æ¥ç¡®ä¿æ¶ˆæ¯è‡³å°‘è¢«æ¶ˆè´¹ä¸€æ¬¡ï¼ˆç”±äºACKæ¶ˆæ¯æœ‰å¯èƒ½ä¸¢å¤±ç­‰åŸå› ï¼Œæ— æ³•åšåˆ°åªè¢«æ¶ˆè´¹ä¸€æ¬¡ï¼Œæœ‰é‡å¤æ¶ˆè´¹çš„å¯èƒ½ï¼‰ã€‚")]),e._v(" "),r("h4",{attrs:{id:"_8-å›æº¯æ¶ˆæ¯"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-å›æº¯æ¶ˆæ¯"}},[e._v("#")]),e._v(" 8.å›æº¯æ¶ˆæ¯")]),e._v(" "),r("p",[e._v("å›æº¯æ¶ˆæ¯ï¼ŒæŒ‡å·²ç»æ¶ˆè´¹æˆåŠŸä½†éœ€è¦é‡æ–°æ¶ˆè´¹çš„æ¶ˆæ¯ã€‚RocketMQ æ”¯æŒæŒ‰æ—¶é—´å›æº¯æ¶ˆæ¯ï¼Œæ—¶é—´ç»´åº¦å¯ç²¾ç¡®åˆ°æ¯«ç§’ï¼Œå¯å‘å‰æˆ–å‘åå›æº¯")]),e._v(" "),r("h4",{attrs:{id:"_9-æ¶ˆæ¯å †ç§¯"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-æ¶ˆæ¯å †ç§¯"}},[e._v("#")]),e._v(" 9.æ¶ˆæ¯å †ç§¯")]),e._v(" "),r("p",[e._v("æ¶ˆæ¯ä¸­é—´ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯å¼‚æ­¥è§£è€¦ï¼Œå¿…é¡»å…·å¤‡åº”å¯¹å‰ç«¯çš„æ•°æ®æ´ªå³°ï¼Œæé«˜åç«¯ç³»ç»Ÿçš„å¯ç”¨æ€§ï¼Œå¿…ç„¶è¦æ±‚æ¶ˆæ¯ä¸­é—´ä»¶å…·å¤‡ä¸€å®šçš„æ¶ˆæ¯å †ç§¯èƒ½åŠ›ã€‚\nRocketMQ æ¶ˆæ¯å­˜å‚¨ä½¿ç”¨ç£ç›˜æ–‡ä»¶ï¼ˆ"),r("strong",[e._v("å†…å­˜æ˜ å°„æœºåˆ¶")]),e._v("ï¼‰ï¼Œåœ¨ç‰©ç†å¸ƒå±€ä¸Šä¸ºå¤šä¸ªå¤§å°ç›¸ç­‰çš„æ–‡ä»¶ç»„æˆé€»è¾‘æ–‡ä»¶ç»„ï¼Œå¯ä»¥æ— é™å¾ªç¯ä½¿ç”¨ã€‚"),r("strong",[e._v("RocketMQæ¶ˆæ¯å­˜å‚¨æä¾›è¿‡æœŸæœºåˆ¶ï¼Œé»˜è®¤ä¿ç•™3å¤©")]),e._v("ã€‚")]),e._v(" "),r("h4",{attrs:{id:"_10-å®šæ—¶æ¶ˆæ¯"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-å®šæ—¶æ¶ˆæ¯"}},[e._v("#")]),e._v(" 10.å®šæ—¶æ¶ˆæ¯")]),e._v(" "),r("p",[e._v("å®šæ—¶æ¶ˆæ¯ï¼ŒæŒ‡æ¶ˆæ¯å‘é€åˆ°Brokeråï¼Œä¸èƒ½è¢«æ¶ˆè´¹ç«¯ç«‹å³æ¶ˆè´¹ï¼Œè¦åˆ°ç‰¹å®šçš„æ—¶é—´ç‚¹æˆ–ç­‰å¾…ç‰¹å®šçš„æ—¶é—´åæ‰èƒ½è¢«æ¶ˆè´¹ã€‚"),r("strong",[e._v("RocketMQåªæ”¯æŒç‰¹å®šå»¶è¿Ÿçº§åˆ«")]),e._v("ã€‚è‹¥æ”¯æŒä»»æ„ç²¾åº¦çš„å®šæ—¶æ¶ˆè´¹ï¼Œå¿…é¡»åœ¨æ¶ˆæ¯æœåŠ¡ç«¯å¯¹æ¶ˆæ¯è¿›è¡Œæ’åºï¼Œæ€§èƒ½æŸè€—å¾ˆå¤§ã€‚")]),e._v(" "),r("h4",{attrs:{id:"_11-æ¶ˆæ¯é‡è¯•æœºåˆ¶"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_11-æ¶ˆæ¯é‡è¯•æœºåˆ¶"}},[e._v("#")]),e._v(" 11.æ¶ˆæ¯é‡è¯•æœºåˆ¶")]),e._v(" "),r("p",[e._v("æ¶ˆæ¯é‡è¯•ï¼ŒæŒ‡æ¶ˆæ¯åœ¨æ¶ˆè´¹æ—¶ï¼Œå¦‚æœå‘é€å¼‚å¸¸ï¼Œæ¶ˆæ¯ä¸­é—´ä»¶æ”¯æŒæ¶ˆæ¯é‡æ–°æŠ•é€’ï¼ŒRocketMQæ”¯æŒæ¶ˆæ¯é‡è¯•æœºåˆ¶.")]),e._v(" "),r("h2",{attrs:{id:"rocketmq-çš„å­˜å‚¨æœºåˆ¶"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rocketmq-çš„å­˜å‚¨æœºåˆ¶"}},[e._v("#")]),e._v(" RocketMQ çš„å­˜å‚¨æœºåˆ¶ ğŸ‰")]),e._v(" "),r("ol",[r("li",[r("strong",[e._v("CommitLog")]),e._v(" "),r("ol",[r("li",[r("strong",[e._v("æ¶ˆæ¯ä¸»ä½“ä»¥åŠå…ƒæ•°æ®çš„å­˜å‚¨ä¸»ä½“")])]),e._v(" "),r("li",[e._v("å•ä¸ªæ–‡ä»¶å¤§å°é»˜è®¤1G ï¼Œæ–‡ä»¶åé•¿åº¦ä¸º20ä½ï¼Œå·¦è¾¹è¡¥é›¶ï¼Œå‰©ä½™ä¸ºèµ·å§‹åç§»é‡")]),e._v(" "),r("li",[e._v("æ¶ˆæ¯ä¸»è¦æ˜¯é¡ºåºå†™å…¥æ—¥å¿—æ–‡ä»¶ï¼Œå½“æ–‡ä»¶æ»¡äº†ï¼Œå†™å…¥ä¸‹ä¸€ä¸ªæ–‡ä»¶ã€‚")])])]),e._v(" "),r("li",[r("strong",[e._v("ConsumeQueue")]),e._v(" "),r("ol",[r("li",[e._v("æ¶ˆæ¯æ¶ˆè´¹é˜Ÿåˆ—ï¼Œå¼•å…¥çš„ç›®çš„ä¸»è¦æ˜¯æé«˜æ¶ˆæ¯æ¶ˆè´¹çš„æ€§èƒ½")]),e._v(" "),r("li",[e._v("ConsumeQueueï¼ˆé€»è¾‘æ¶ˆè´¹é˜Ÿåˆ—ï¼‰ä½œä¸ºæ¶ˆè´¹æ¶ˆæ¯çš„ç´¢å¼•ï¼Œä¿å­˜äº†æŒ‡å®š Topic ä¸‹çš„é˜Ÿåˆ—æ¶ˆæ¯åœ¨ CommitLog ä¸­çš„èµ·å§‹ç‰©ç†åç§»é‡ offset ï¼Œæ¶ˆæ¯å¤§å° size å’Œæ¶ˆæ¯ Tag çš„ HashCode å€¼")]),e._v(" "),r("li",[e._v("ConsumeQueue æ–‡ä»¶å¯ä»¥çœ‹æˆæ˜¯åŸºäº topic çš„ CommitLog ç´¢å¼•æ–‡ä»¶")])])]),e._v(" "),r("li",[e._v("IndexFileï¼ˆç´¢å¼•æ–‡ä»¶ï¼‰æä¾›äº†ä¸€ç§å¯ä»¥é€šè¿‡"),r("code",[e._v("key")]),e._v("æˆ–æ—¶é—´åŒºé—´æ¥æŸ¥è¯¢æ¶ˆæ¯çš„æ–¹æ³•")])]),e._v(" "),r("h2",{attrs:{id:"rocketmq-æ¶ˆè´¹è€…çš„è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rocketmq-æ¶ˆè´¹è€…çš„è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[e._v("#")]),e._v(" RocketMQ æ¶ˆè´¹è€…çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ ğŸ‰")]),e._v(" "),r("p",[e._v("æ¶ˆè´¹è€…çš„è´Ÿè½½å‡è¡¡ï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†Topicä¸‹çš„MessageQueueåˆ†é…ç»™è¿™äº›Consumer")]),e._v(" "),r("ul",[r("li",[e._v("å¹³å‡åˆ†é…")]),e._v(" "),r("li",[e._v("ç¯å½¢å¹³å‡åˆ†é…")]),e._v(" "),r("li")]),e._v(" "),r("h2",{attrs:{id:"kafka-ä¸-rocketmq-çš„å­˜å‚¨å¯¹æ¯”"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#kafka-ä¸-rocketmq-çš„å­˜å‚¨å¯¹æ¯”"}},[e._v("#")]),e._v(" Kafka ä¸ RocketMQ çš„å­˜å‚¨å¯¹æ¯” ğŸ‰")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("MQ")]),e._v(" "),r("th",[e._v("ç»“æ„")]),e._v(" "),r("th",[e._v("å­˜å‚¨")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[e._v("Kafka")]),e._v(" "),r("td",[e._v("topic å¯¹åº”å¤šä¸ª partitionï¼ŒåŒä¸€ä¸ªæœåŠ¡å™¨ï¼ˆBrokerï¼‰ä¼šæœ‰å¤šä¸ª topic-partition å¯¹ï¼Œpartition ä¸ºå•ä¸»å¤šä»ç»“æ„ï¼Œä¸»æŒ‚äº†ä¼šé‡æ–°é€‰æ‹©ä¸»ï¼ˆZKï¼‰")]),e._v(" "),r("td",[e._v("æ¶ˆæ¯ç›´æ¥å­˜å‚¨åœ¨ partition ä¸­ï¼Œå¯¹å• topic ä¸ºé¡ºåºå†™")])]),e._v(" "),r("tr",[r("td",[e._v("RocketMQ")]),e._v(" "),r("td",[e._v("topic å¯¹åº”å¤šä¸ª ConsumeQueueï¼ŒåŒä¸€ä¸ªæœåŠ¡å™¨ï¼ˆBrokerï¼‰ä¼šæœ‰å¤šä¸ª topic-ConsumeQueue å¯¹ï¼ŒConsumeQueue ä¸ºå¤šä¸»å¤šä»ç»“æ„ï¼Œä¸»æœ‰é…ç½®æŒ‡å®šï¼Œä¸»æŒ‚äº†ç”±å…¶ä»–ä¸»æä¾›æœåŠ¡")]),e._v(" "),r("td",[e._v("åŒä¸€ä¸ªæœåŠ¡å™¨çš„æ‰€æœ‰æ¶ˆæ¯éƒ½ç»Ÿä¸€å†™åˆ° CommitLog æ–‡ä»¶ä¸­ï¼ŒConsumeQueue åªå­˜å‚¨åœ¨ CommitLog ä¸­çš„èµ·å§‹offsetã€logå¤§å°ã€MessageTagçš„hashCodeï¼Œæ•°æ®é‡è¾ƒå°‘ã€‚")])])])]),e._v(" "),r("h2",{attrs:{id:"rocketmq-å†…å­˜æ˜ å°„æœºåˆ¶"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rocketmq-å†…å­˜æ˜ å°„æœºåˆ¶"}},[e._v("#")]),e._v(" RocketMQ å†…å­˜æ˜ å°„æœºåˆ¶ ğŸ‰")]),e._v(" "),r("p",[e._v("RocketMQ é€šè¿‡ä½¿ç”¨å†…å­˜æ˜ å°„æ–‡ä»¶ï¼ˆå†…å­˜æ˜ å°„æœºåˆ¶ï¼‰æ¥æé«˜"),r("code",[e._v("IOè®¿é—®æ€§èƒ½")]),e._v("ï¼Œæ— è®ºæ˜¯ CommitLogã€ ConsumeQueue è¿˜æ˜¯ IndexFileï¼Œå•ä¸ªæ–‡ä»¶éƒ½è¢«è®¾è®¡ä¸ºå›ºå®šé•¿åº¦ï¼Œå¦‚æœä¸€ä¸ªæ–‡ä»¶å†™æ»¡ä»¥åå†åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œæ–‡ä»¶åå°±ä¸ºè¯¥æ–‡ä»¶ç¬¬ä¸€æ¡æ¶ˆæ¯å¯¹åº”çš„å…¨å±€ç‰©ç†åç§»é‡ã€‚")]),e._v(" "),r("hr"),e._v(" "),r("p",[r("strong",[e._v("å‚è€ƒæ–‡æ¡£")])]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.baeldung.com/apache-rocketmq-spring-boot",target:"_blank",rel:"noopener noreferrer"}},[e._v("apache-rocketmq-spring-boot"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"http://rocketmq.apache.org/docs/quick-start/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Apache RocketMQ å®˜æ–¹æ–‡æ¡£"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/apache/rocketmq",target:"_blank",rel:"noopener noreferrer"}},[e._v("RocketMQ æºç "),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://code.aliyun.com/aliware_rocketmq/rocketmq-demo/tree/master",target:"_blank",rel:"noopener noreferrer"}},[e._v("é˜¿é‡Œäº‘æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ä½¿ç”¨ç¤ºä¾‹"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("ã€ŠRocketMQ æŠ€æœ¯å†…å¹•: RocketMQ æ¶æ„è®¾è®¡ä¸å®ç°åŸç† ä¸å¨ å‘¨ç»§å³°ã€‹")]),e._v(" "),r("li",[r("a",{attrs:{href:"http://www.tianshouzhi.com/api/tutorials/rocketmq/409",target:"_blank",rel:"noopener noreferrer"}},[e._v("æ¶ˆè´¹è€…Rebalanceæœºåˆ¶"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=v.exports}}]);