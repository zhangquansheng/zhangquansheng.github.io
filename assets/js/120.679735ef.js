(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{384:function(t,s,l){"use strict";l.r(s);var r=l(10),a=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"cms-concurrent-mark-sweep-å¹¶å‘æ ‡è®°æ¸…ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cms-concurrent-mark-sweep-å¹¶å‘æ ‡è®°æ¸…ç†"}},[t._v("#")]),t._v(" CMS (Concurrent Mark Sweep å¹¶å‘æ ‡è®°æ¸…ç†)")]),t._v(" "),s("p",[s("code",[t._v("CMS")]),t._v("è®¾è®¡çš„ç›®æ ‡å°±æ˜¯è·å–æœ€ä½åœé¡¿æ—¶é—´(stop the worldåœé¡¿æ—¶é—´),å®ƒæ˜¯åŸºäº"),s("strong",[t._v("æ ‡è®°-æ¸…é™¤")]),t._v("ç®—æ³•å®ç°çš„ã€‚")]),t._v(" "),s("h2",{attrs:{id:"cms-æ”¶é›†å™¨çš„å·¥ä½œæµç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cms-æ”¶é›†å™¨çš„å·¥ä½œæµç¨‹"}},[t._v("#")]),t._v(" CMS æ”¶é›†å™¨çš„å·¥ä½œæµç¨‹")]),t._v(" "),s("ol",[s("li",[t._v("åˆå§‹æ ‡è®°:åªæ ‡è®°å’ŒGC Rootsèƒ½ç›´è¿çš„å¯¹è±¡,é€Ÿåº¦å¿«,ä¼šå‘ç”Ÿ(stop the world)")]),t._v(" "),s("li",[t._v("å¹¶å‘æ ‡è®°:å’Œåº”ç”¨çº¿ç¨‹å¹¶å‘æ‰§è¡Œ,éå†åˆå§‹æ ‡è®°é˜¶æ®µæ ‡è®°è¿‡çš„å¯¹è±¡,æ ‡è®°è¿™äº›å¯¹è±¡çš„å¯è¾¾å¯¹è±¡ã€‚")]),t._v(" "),s("li",[t._v("é‡æ–°æ ‡è®°:ç”±äºå¹¶å‘æ ‡è®°æ˜¯å’Œåº”ç”¨çº¿ç¨‹æ˜¯å¹¶å‘æ‰§è¡Œçš„,æ‰€ä»¥æœ‰äº›æ ‡è®°è¿‡çš„å¯¹è±¡å‘ç”Ÿäº†å˜åŒ–ã€‚è¿™ä¸ªè¿‡ç¨‹æ¯”åˆå§‹æ ‡è®°ç”¨æ—¶é•¿,ä½†æ˜¯æ¯”å¹¶å‘æ ‡è®°é˜¶æ®µç”¨æ—¶çŸ­ã€‚ä¼šå‘ç”Ÿ(stop the world)")]),t._v(" "),s("li",[t._v("å¹¶å‘æ¸…é™¤:å’Œåº”ç”¨çº¿ç¨‹ä¸€èµ·è¿è¡Œã€‚åŸºäºæ ‡è®°å¯¹è±¡,ç›´æ¥æ¸…ç†å¯¹è±¡ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"cms-çš„ç¼ºç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cms-çš„ç¼ºç‚¹"}},[t._v("#")]),t._v(" CMS çš„ç¼ºç‚¹")]),t._v(" "),s("ol",[s("li",[t._v("åƒåœ¾ç¢ç‰‡é—®é¢˜\n"),s("ul",[s("li",[t._v("åŸå› :ç”±äºCMSé‡‡ç”¨çš„æ˜¯æ ‡è®°-æ¸…é™¤ç®—æ³•,æ‰€ä»¥ä¸å¯é¿å…ä¼šæœ‰å†…å­˜ç¢ç‰‡é—®é¢˜ã€‚")]),t._v(" "),s("li",[t._v("è§£å†³:ä½¿ç”¨-XX:+CMSFullGCsBeforeCompaction=n,æ„æ€æ˜¯åœ¨ä¸Šæ¬¡CMSå¹¶å‘GCæ‰§è¡Œè¿‡å,åˆ°åº•è¿˜è¦åšå¤šå°‘Full GCæ‰åšå‹ç¼©ã€‚é»˜è®¤æ˜¯0,ä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡CMS GCé¡¶ä¸ä½äº†è½¬å…¥Full GCæ—¶éƒ½è¦å‹ç¼©ã€‚")])])]),t._v(" "),s("li",[t._v("å¯¹ CPU èµ„æºæ•æ„Ÿ\n"),s("ul",[s("li",[t._v("CMS é»˜è®¤å¯åŠ¨çš„å›æ”¶çº¿ç¨‹æ•°æ˜¯ï¼ˆCPUæ•°é‡+3ï¼‰/4ï¼Œå½“CPUä¸è¶³4ä¸ªæ—¶ï¼ŒCMS å¯¹ç”¨æˆ·ç¨‹åºçš„å½±å“å¯èƒ½å˜å¤§")])])]),t._v(" "),s("li",[t._v("æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾\n"),s("ul",[s("li",[t._v("ç”±äºCMS å¹¶å‘æ¸…é™¤é˜¶æ®µç”¨æˆ·çº¿ç¨‹è¿˜åœ¨è¿è¡Œç€ï¼Œä¼´éšç¨‹åºè¿è¡Œè‡ªç„¶å°±å›äº§ç”Ÿæ–°çš„åƒåœ¾ï¼Œè¿™ä¸€éƒ¨åˆ†åƒåœ¾ï¼ˆæµ®åŠ¨åƒåœ¾ï¼‰æ²¡æœ‰è¢«æ ‡è®°ï¼ŒCMS æ— æ³•åœ¨å½“æ¬¡æ”¶é›†ä¸­å¤„ç†å®ƒä»¬ï¼Œåªå¥½ç•™å¾…ä¸‹ä¸€æ¬¡GCæ—¶åœ¨æ¸…ç†æ‰ã€‚")]),t._v(" "),s("li",[t._v("å¯èƒ½å‡ºç° â€œConcurrent Mode Failureâ€ å¤±è´¥è€Œå¯¼è‡´å¦ä¸€æ¬¡Full GC çš„äº§ç”Ÿã€‚")])])])]),t._v(" "),s("h2",{attrs:{id:"ä¸ºä»€ä¹ˆé…ç½®äº†cms-gc-å´è§¦å‘äº†full-gc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆé…ç½®äº†cms-gc-å´è§¦å‘äº†full-gc"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆé…ç½®äº†CMS GC,å´è§¦å‘äº†Full GC")]),t._v(" "),s("ol",[s("li",[t._v("å¤§å¯¹è±¡åˆ†é…æ—¶,å¹´è½»ä»£æ”¾ä¸ä¸‹,ç›´æ¥å»è€å¹´ä»£,ç»“æœè€å¹´ä»£ä¹Ÿæ”¾ä¸ä¸‹ï¼Œï¼ˆå†…å­˜ç¢ç‰‡é—®é¢˜ï¼šä½¿ç”¨ æ ‡è®°-æ¸…é™¤ ç®—æ³•çš„ç¼ºç‚¹ï¼‰ã€‚")]),t._v(" "),s("li",[t._v("CMS GCå¤±è´¥ï¼Œæ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾ï¼Œå¯èƒ½å‡ºç°(Concurrent Mode Failure)å¤±è´¥è€Œå¯¼è‡´ã€‚")]),t._v(" "),s("li",[t._v("jmap -histo äººä¸ºæ‰§è¡Œäº†å‘½ä»¤ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"cms-gcæ—¥å¿—åˆ†æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cms-gcæ—¥å¿—åˆ†æ"}},[t._v("#")]),t._v(" CMS GCæ—¥å¿—åˆ†æ ğŸ‘")]),t._v(" "),s("p",[t._v("![CMS GCæ—¥å¿—åˆ†æ](/img/java/CMS GCæ—¥å¿—åˆ†æ.png)")])])}),[],!1,null,null,null);s.default=a.exports}}]);