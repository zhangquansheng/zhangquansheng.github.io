(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{344:function(t,a,_){"use strict";_.r(a);var v=_(10),e=Object(v.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"åˆ†å¸ƒå¼äº‹åŠ¡æ¦‚è¿°-tcc-åˆ†å¸ƒå¼äº‹åŠ¡å®æˆ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†å¸ƒå¼äº‹åŠ¡æ¦‚è¿°-tcc-åˆ†å¸ƒå¼äº‹åŠ¡å®æˆ˜"}},[t._v("#")]),t._v(" åˆ†å¸ƒå¼äº‹åŠ¡æ¦‚è¿° & TCC åˆ†å¸ƒå¼äº‹åŠ¡å®æˆ˜ ğŸ”¨")]),t._v(" "),a("p",[t._v("åˆ†å¸ƒå¼äº‹åŠ¡æ˜¯æŒ‡äº‹åŠ¡çš„å‚ä¸è€…ã€æ”¯æŒäº‹åŠ¡çš„æœåŠ¡å™¨ã€èµ„æºæœåŠ¡å™¨ä»¥åŠäº‹åŠ¡ç®¡ç†å™¨åˆ†åˆ«ä½äºä¸åŒçš„åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸åŒèŠ‚ç‚¹ä¹‹ä¸Šã€‚")]),t._v(" "),a("p",[t._v("æœ¬è´¨ä¸Šæ¥è¯´ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡å°±æ˜¯ä¸ºäº†ä¿è¯ä¸åŒæ•°æ®åº“çš„æ•°æ®ä¸€è‡´æ€§ã€‚")]),t._v(" "),a("h2",{attrs:{id:"ç†è®ºçŸ¥è¯†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç†è®ºçŸ¥è¯†"}},[t._v("#")]),t._v(" ç†è®ºçŸ¥è¯†")]),t._v(" "),a("h3",{attrs:{id:"cap-åŸåˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cap-åŸåˆ™"}},[t._v("#")]),t._v(" CAP åŸåˆ™")]),t._v(" "),a("p",[t._v("CAPåŸåˆ™æŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸€è‡´æ€§(Consistency)ã€å¯ç”¨æ€§(Availability)ã€åˆ†åŒºå®¹é”™æ€§(Partition tolerance)ï¼Œè¿™ä¸‰ä¸ªå±æ€§æœ€å¤šåªèƒ½åŒæ—¶å®ç°ä¸¤ç‚¹ï¼Œä¸å¯èƒ½ä¸‰è€…å…¼é¡¾ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/digging-deeper/cap.webp",alt:"cap"}})]),t._v(" "),a("ul",[a("li",[a("p",[t._v("ä¸€è‡´æ€§(Consistency)ï¼šæ‰€æœ‰çš„æ•°æ®å¤‡ä»½åœ¨åŒä¸€æ—¶åˆ»å…·æœ‰åŒæ ·çš„å€¼ï¼›")])]),t._v(" "),a("li",[a("p",[t._v("å¯ç”¨æ€§(Availability)ï¼šä¿è¯æ— è®ºè¯·æ±‚æˆåŠŸæˆ–å¤±è´¥ï¼Œç³»ç»Ÿéƒ½ä¼šç»™å‡ºå“åº”ï¼›")])]),t._v(" "),a("li",[a("p",[t._v("åˆ†åŒºå®¹é”™æ€§(Partition tolerance)ï¼šæŒ‡çš„æ˜¯ç³»ç»Ÿä»»æ„ä¿¡æ¯çš„ä¸¢å¤±éƒ½ä¸ä¼šå½±å“ç³»ç»Ÿçš„ç»§ç»­è¿è¡Œï¼Œæˆ–ä»»æ„èŠ‚ç‚¹çš„ä¸¢å¤±ï¼Œéƒ½ä¸å½±å“å…¶ä»–èŠ‚ç‚¹çš„ç»§ç»­è¿è¡Œã€‚")])]),t._v(" "),a("li",[a("p",[t._v("AP")]),t._v(" "),a("ul",[a("li",[t._v("Nacos")]),t._v(" "),a("li",[t._v("Eureka : Eurekaä¿è¯æ¯ä¸ªæœåŠ¡èŠ‚ç‚¹çš„ç‹¬ç«‹æ€§ï¼Œä¿è¯æŸä¸ªæœåŠ¡èŠ‚ç‚¹çš„è¿æ¥å¤±è´¥æˆ–è€…æŸä¸ªæ¥ç‚¹æŒ‚æ‰å…¶ä»–èŠ‚ç‚¹ä¸å—å½±å“ã€‚ä½†æ˜¯Eurekaçš„ç¼ºé™·å°±æ˜¯æ— æ³•ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŸä¸ªèŠ‚ç‚¹è·å–çš„æ³¨å†ŒæœåŠ¡åˆ—è¡¨ï¼Œå¯èƒ½ä¸æ˜¯æœ€æ–°çš„æ•°æ®ã€‚")])])]),t._v(" "),a("li",[a("p",[t._v("CP")]),t._v(" "),a("ul",[a("li",[t._v("Zookeeper : CPè®¾è®¡ï¼Œä¿è¯äº†ä¸€è‡´æ€§ï¼Œé›†ç¾¤æ­å»ºçš„æ—¶å€™ï¼ŒæŸä¸ªèŠ‚ç‚¹å¤±æ•ˆï¼Œåˆ™ä¼šè¿›è¡Œé€‰ä¸¾è¡Œçš„leaderï¼Œæˆ–è€…åŠæ•°ä»¥ä¸ŠèŠ‚ç‚¹ä¸å¯ç”¨ï¼Œåˆ™æ— æ³•æä¾›æœåŠ¡ï¼Œå› æ­¤å¯ç”¨æ€§æ²¡æ³•æ»¡è¶³")]),t._v(" "),a("li",[t._v("Consul")])])])]),t._v(" "),a("h3",{attrs:{id:"base"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#base"}},[t._v("#")]),t._v(" BASE")]),t._v(" "),a("p",[t._v("ç†è®ºçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼šæˆ‘ä»¬æ— æ³•åšåˆ°å¼ºä¸€è‡´ï¼Œä½†æ¯ä¸ªåº”ç”¨éƒ½å¯ä»¥æ ¹æ®è‡ªèº«çš„ä¸šåŠ¡ç‰¹ç‚¹ï¼Œé‡‡ç”¨é€‚å½“çš„æ–¹å¼æ¥ä½¿ç³»ç»Ÿè¾¾åˆ°"),a("strong",[t._v("æœ€ç»ˆä¸€è‡´æ€§")]),t._v("ã€‚")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Basically Availableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰")]),t._v("ï¼šå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§ï¼Œä¿è¯æ ¸å¿ƒå¯ç”¨")]),t._v(" "),a("li",[a("strong",[t._v("Soft-stateï¼ˆ è½¯çŠ¶æ€/æŸ”æ€§äº‹åŠ¡ï¼‰")]),t._v("ï¼šå…è®¸ç³»ç»Ÿåœ¨ä¸åŒèŠ‚ç‚¹é—´å‰¯æœ¬åŒæ­¥çš„æ—¶å€™å­˜åœ¨å»¶æ—¶")]),t._v(" "),a("li",[a("strong",[t._v("Eventual Consistencyï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰")]),t._v("ï¼šç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®å‰¯æœ¬ç»è¿‡ä¸€å®šæ—¶é—´åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´çš„çŠ¶æ€ï¼Œä¸éœ€è¦å®æ—¶ä¿è¯ç³»ç»Ÿæ•°æ®çš„å¼ºä¸€è‡´æ€§ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"xa-åè®®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xa-åè®®"}},[t._v("#")]),t._v(" XA åè®®")]),t._v(" "),a("p",[a("code",[t._v("XA")]),t._v("åè®®æ˜¯ç”±"),a("code",[t._v("X/Open")]),t._v("ç»„ç»‡æå‡ºçš„åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†è§„èŒƒï¼Œä¸»è¦å®šä¹‰äº†äº‹åŠ¡ç®¡ç†å™¨"),a("code",[t._v("TM")]),t._v("å’Œå±€éƒ¨èµ„æºç®¡ç†å™¨"),a("code",[t._v("RM")]),t._v("ä¹‹é—´çš„æ¥å£ã€‚ç›®å‰ä¸»æµçš„æ•°æ®åº“ï¼Œæ¯”å¦‚"),a("code",[t._v("oracle")]),t._v("ã€"),a("code",[t._v("DB2")]),t._v(" éƒ½æ˜¯æ”¯æŒ"),a("code",[t._v("XA")]),t._v("åè®®çš„ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_2pc-ä¸¤æ®µæäº¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2pc-ä¸¤æ®µæäº¤"}},[t._v("#")]),t._v(" 2PC(ä¸¤æ®µæäº¤)")]),t._v(" "),a("ul",[a("li",[t._v("ä¸€é˜¶æ®µ prepare è¡Œä¸º")]),t._v(" "),a("li",[t._v("äºŒé˜¶æ®µ commit æˆ– rollback è¡Œä¸º")])]),t._v(" "),a("h2",{attrs:{id:"_3pc-ä¸‰æ®µæäº¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3pc-ä¸‰æ®µæäº¤"}},[t._v("#")]),t._v(" 3PC(ä¸‰æ®µæäº¤)")]),t._v(" "),a("p",[t._v("ä¸ä¸¤é˜¶æ®µæäº¤ä¸åŒçš„æ˜¯ï¼Œä¸‰é˜¶æ®µæäº¤æœ‰ä¸¤ä¸ªæ”¹åŠ¨ç‚¹ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("1ã€ å¼•å…¥è¶…æ—¶æœºåˆ¶ã€‚åŒæ—¶åœ¨åè°ƒè€…å’Œå‚ä¸è€…ä¸­éƒ½å¼•å…¥è¶…æ—¶æœºåˆ¶ã€‚")]),t._v(" "),a("li",[t._v("2ã€ åœ¨ç¬¬ä¸€é˜¶æ®µå’Œç¬¬äºŒé˜¶æ®µä¸­æ’å…¥ä¸€ä¸ªå‡†å¤‡é˜¶æ®µã€‚ä¿è¯äº†åœ¨æœ€åæäº¤é˜¶æ®µä¹‹å‰å„å‚ä¸èŠ‚ç‚¹çš„çŠ¶æ€æ˜¯ä¸€è‡´çš„ã€‚")])]),t._v(" "),a("p",[t._v("æ— è®ºæ˜¯äºŒé˜¶æ®µæäº¤è¿˜æ˜¯ä¸‰é˜¶æ®µæäº¤éƒ½æ— æ³•å½»åº•è§£å†³åˆ†å¸ƒå¼çš„ä¸€è‡´æ€§é—®é¢˜ã€‚"),a("code",[t._v("Google Chubby")]),t._v("çš„ä½œè€…"),a("code",[t._v("Mike Burrows")]),t._v("è¯´è¿‡ï¼Œ\n"),a("code",[t._v("there is only one consensus protocol, and thatâ€™s Paxosâ€ â€“ all other approaches are just broken versions of Paxos")]),t._v(".\næ„å³ä¸–ä¸Šåªæœ‰ä¸€ç§ä¸€è‡´æ€§ç®—æ³•ï¼Œé‚£å°±æ˜¯"),a("code",[t._v("Paxos")]),t._v("ç®—æ³•ã€‚")]),t._v(" "),a("h2",{attrs:{id:"tcc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcc"}},[t._v("#")]),t._v(" TCC")]),t._v(" "),a("p",[t._v("å…¨å±€äº‹åŠ¡æ˜¯ç”±è‹¥å¹²åˆ†æ”¯äº‹åŠ¡ç»„æˆçš„ï¼Œåˆ†æ”¯äº‹åŠ¡è¦æ»¡è¶³"),a("strong",[t._v("ä¸¤é˜¶æ®µæäº¤")]),t._v("çš„æ¨¡å‹è¦æ±‚ï¼Œå³éœ€è¦æ¯ä¸ªåˆ†æ”¯äº‹åŠ¡éƒ½å…·å¤‡è‡ªå·±çš„ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ä¸€é˜¶æ®µ prepare è¡Œä¸º")]),t._v(" "),a("li",[t._v("äºŒé˜¶æ®µ commit æˆ– rollback è¡Œä¸º")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/digging-deeper/seata-tcc.png",alt:"seata-tcc"}})]),t._v(" "),a("p",[t._v("TCC æ¨¡å¼ï¼Œä¸ä¾èµ–äºåº•å±‚æ•°æ®èµ„æºçš„äº‹åŠ¡æ”¯æŒï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ä¸€é˜¶æ®µ prepare è¡Œä¸ºï¼šè°ƒç”¨è‡ªå®šä¹‰çš„ prepare é€»è¾‘ã€‚")]),t._v(" "),a("li",[t._v("äºŒé˜¶æ®µ commit è¡Œä¸ºï¼šè°ƒç”¨è‡ªå®šä¹‰çš„ commit é€»è¾‘ã€‚")]),t._v(" "),a("li",[t._v("äºŒé˜¶æ®µ rollback è¡Œä¸ºï¼šè°ƒç”¨è‡ªå®šä¹‰çš„ rollback é€»è¾‘ã€‚")])]),t._v(" "),a("p",[t._v("æ‰€è°“ TCC æ¨¡å¼ï¼Œæ˜¯æŒ‡æ”¯æŒæŠŠè‡ªå®šä¹‰çš„åˆ†æ”¯äº‹åŠ¡çº³å…¥åˆ°å…¨å±€äº‹åŠ¡çš„ç®¡ç†ä¸­ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("å‚è€ƒæ–‡æ¡£")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/seata/seata",target:"_blank",rel:"noopener noreferrer"}},[t._v("seata"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/changmingxie/tcc-transaction",target:"_blank",rel:"noopener noreferrer"}},[t._v("tcc-transactionæ˜¯TCCå‹äº‹åŠ¡javaå®ç°"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/dromara/hmily",target:"_blank",rel:"noopener noreferrer"}},[t._v("hmily"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);